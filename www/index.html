<!DOCTYPE html>
<html data-theme="light" data-mask-mode="asterisks" class="loading">
  <head>
    <meta charset="utf-8" />
    <title>Mask My Text</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="An open-source, privacy-focused text masking tool that works entirely in your browser."
    />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' 'wasm-unsafe-eval'; style-src 'self'; img-src 'self' data:; connect-src 'self'; object-src 'none'; base-uri 'none'; frame-ancestors 'none'"
    />
    <link rel="manifest" href="./manifest.json" />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="./icons/icon-192x192.png"
    />
    <link rel="apple-touch-icon" href="./icons/icon-192x192.png" />
    <link rel="stylesheet" href="./styles/main.css" />
  </head>
  <body>
    <noscript
      >This page contains webassembly and javascript content, please enable
      javascript in your browser.</noscript
    >
    <div class="container">
      <header>
        <div class="settings-container">
          <button class="button button-secondary" id="theme-toggle">
            ğŸŒ™ Dark Mode
          </button>
          <button class="button button-secondary" id="settings-btn">
            âš™ï¸ Settings
          </button>
          <div class="settings-popup" id="settings-popup">
            <h3>Settings</h3>
            <div class="settings-item">
              <div>
                <div class="settings-label">Clear Saved Data</div>
                <div class="settings-info">
                  Remove all saved words and preferences
                </div>
              </div>
              <button class="button button-danger" id="clear-data-btn">
                Clear Data
              </button>
            </div>
          </div>
        </div>
        <h1 id="main-title">Mask My Text</h1>
        <p id="main-description">
          An
          <a
            href="https://github.com/richardjypark/maskmytext.com"
            target="_blank"
            rel="noopener"
            class="primary-link"
            >open-source</a
          >, privacy-focused text masking tool that works entirely in your
          browser.
        </p>
        <div class="content-section">
          <div class="mode-toggle-container">
            <button
              class="button button-primary mode-toggle"
              data-mode="asterisks"
            >
              Mask (*****)
            </button>
            <button
              class="button button-primary mode-toggle"
              data-mode="field_numbers"
            >
              Obfuscate (FIELD_1)
            </button>
          </div>

          <section class="mask-words-section">
            <div class="mask-words-header">
              <h2 id="words-heading">Words to Mask</h2>
              <button class="button button-danger" id="clear-words-btn">
                ğŸ—‘ï¸ Clear Word List
              </button>
            </div>
            <input
              type="text"
              id="mask-words-input"
              class="mask-words-input"
              placeholder="Type a word and press Enter to add it to the mask list"
            />
            <p class="mask-words-help">
              Words to be masked in your text. Use commas for multiple words,
              press Enter to add.
            </p>
            <div id="word-chips" class="word-chips-container"></div>
          </section>

          <main class="content">
            <div class="text-box">
              <div class="text-box-header">
                <h2>Input Text</h2>
                <button class="button button-danger" id="clear-btn">
                  ğŸ—‘ï¸ Clear Text
                </button>
              </div>
              <textarea
                id="input"
                placeholder="Type or paste your text here..."
              ></textarea>
            </div>
            <div class="text-box">
              <div class="text-box-header">
                <h2 id="output-heading">Masked Output</h2>
                <button class="button button-primary copy-btn" id="copy-btn">
                  ğŸ“‹ Copy Text
                </button>
              </div>
              <div
                id="output"
                data-placeholder="Ex: secret123 becomes ********* or FIELD_1 based on selected mode"
              ></div>
            </div>
          </main>

          <section id="decode-section">
            <h2 class="decode-title">Decode AI Text</h2>
            <div class="decode-box">
              <div class="text-box decode-input-box">
                <div class="text-box-header">
                  <h2>Input</h2>
                  <button class="button button-danger" id="clear-decode-btn">
                    ğŸ—‘ï¸ Clear Text
                  </button>
                </div>
                <textarea
                  id="decode-input"
                  placeholder="Paste the AI text containing FIELD_X values to decode them..."
                ></textarea>
              </div>
              <div class="text-box decode-output-box">
                <div class="text-box-header">
                  <h2>Decoded Output</h2>
                  <button
                    class="button button-primary copy-btn"
                    id="copy-decode-btn"
                  >
                    ğŸ“‹ Copy Text
                  </button>
                </div>
                <div
                  id="decode-output"
                  class="decode-output"
                  data-placeholder="Decoded text will appear here..."
                ></div>
              </div>
            </div>
          </section>
        </div>
      </header>
    </div>
    <div class="toast-notification" id="toast-notification">
      <div class="toast-content">
        <div class="toast-icon">âœ…</div>
        <div class="toast-message">
          <div class="toast-title">Success!</div>
          <p>The text has been copied to your clipboard.</p>
        </div>
      </div>
      <div class="toast-actions">
        <button class="toast-button toast-primary" id="close-toast">
          Close
        </button>
      </div>
    </div>
    <div class="toast-notification" id="update-toast">
      <div class="toast-content">
        <div class="toast-icon">ğŸ”„</div>
        <div class="toast-message">
          <div class="toast-title">Update Available</div>
          <p>A new version of Mask My Text is available.</p>
        </div>
      </div>
      <div class="toast-actions">
        <button class="toast-button toast-secondary" id="later-update">
          Later
        </button>
        <button class="toast-button toast-primary" id="update-now">
          Update Now
        </button>
      </div>
    </div>

    <footer class="footer-note">
      Created by
      <a
        href="https://www.richardjypark.com/"
        class="primary-link"
        target="_blank"
        rel="noopener"
        referrerpolicy="origin"
        >richardjypark</a
      >
    </footer>
    <script src="./bootstrap.js"></script>
  </body>
</html>
